<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-2"/>
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu
     podle pou¾itého editoru -->

<h1>Název zadání (editujte)</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoøi</dt>
	<dd>První jméno <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xpejch08stud.fit.vutbr.cz">xpejch08@stud.fit.vutbr.cz</a> -
		Vedoucí týmu, implementace backendu, vytvoøení databáze.
	</dd>
	<dd>Druhé jméno <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xautor02@stud.fit.vutbr.cz">xautor02@stud.fit.vutbr.cz</a> -
		popis èinnosti v týmu
	</dd>
  <dd>Tøetí jméno <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xautor03@stud.fit.vutbr.cz">xautor03@stud.fit.vutbr.cz</a> -
		popis èinnosti v týmu
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="http://www.stud.fit.vutbr.cz/~xautor01/IIS">http://www.stud.fit.vutbr.cz/~xautor01/IIS</a></dd>
	<dd>(pokud má aplikace více vstupních stránek, napi¹te obdobnì dal¹í URL)</dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<p>Uveïte prosím existující zástupce <strong>v¹ech rolí u¾ivatelù</strong>.</p>
<table>
<tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>admin</td><td>admin</td><td>Administrátor</td></tr>
<tr><td>prodavac</td><td>prodavac</td><td>Prodavaè</td></tr>
<tr><td>franta</td><td>franta</td><td>Zákazník</td></tr>
</table>

<p>(Diagram pøípadù u¾ití není nutné vkládat, pokud IS implementuje role a pøípady u¾ití definované zadáním.)</p>

<h3>Video</h3>

<p>Pøilo¾te odkaz na komentované video demostrující pou¾ití informaèního systému. Zamìøte se na pøípady u¾ití definované zadáním (napø. registrace u¾ivatele, správa u¾ivatelù a èinnosti jednotlivých rolí). Video nahrajte napøíklad na VUT Google Drive, kde ho bude mo¾né pøímo spustit z odkazu.</p>

<h2>Implementace</h2>
<p>Jako nástroj pro backend jsme zvolili python framework flask. V¹echny backendové routy jsou implementovány v souboru routes.py.
	Model databáze, byl vytoøen pomocí MySql. Abychom mohli s databází komunikovat pou¾íváme sqlAlchemy modul z pythonu tedy model databáze implementovaný v souboru db.py.
	Základní konfigurace flask aplikace je v souboru backend.py. V soboru backend.py také probíhá inicializace databáze.
	Soubor routes je rozdìlen na rerouts, wrappers a routes. Rerouts jsou routy pou¾ívané pro pøesmìrování. Wrappery jsou pou¾ívány pro kontrolu pøihlá¹ených u¾ivatelù.
	Pomocí flask session kontrolujeme zda má u¾ivatel pøístup k urèité stránce, pokud ne, je pøesmìrován na menu stránku, kde je ohlá¹en error.
	Zbylé routes slou¾í pro reálnou funkci informaèního systému. Komunikují s databází a získávají z ní data, která jsou následnì zobrazena na frontendu.
	Slou¾í napøíklad pro vytváøení záznamù, jejich editaci, mazání, nebo zobrazení. Pro interaktivní a realtime frontend jsme vyu¾ili modul Jinja2,
	který slou¾í napøíklad pro práci s promìnnými poslaných z backendu. Pro to aby informaèní systém byl bezpeèný, v¹echny hesla jsou pøi vytvoøení úètu
	hashovány pomocí modulu werkzeug.security. Session také není permanentní a po uplynutí urèitého èasu vypr¹í.
</p>

<h3>Databáze</h3>

<img src="ER2.jpg" alt="Database entity relationship diagram">

<h2>Instalace</h2>

Pro instalaci staèí rozbalit adresáø a v nìm pomocí nástroje pip naistalovat potøebné moduly pro bìh aplikace. Pokud nemáte na zaøízení
pip nainstalován, mù¾ete tak docílit takto: $ sudo apt install python3-pip	#python 3.
Potøebné moduly mù¾ete nainstalovat pomocí pøíkazu $ pip install -r requirements.txt. Následnì je potøeba nainstalovat python. Pro vývoj byl pou¾it python 3.10.
Pokud jsou tyto podmínky splnìny staèí pou¾ít pøíkaz python backend.py a aplikace by mìla být spu¹tìna na localhostu na portu 5000.
Databáze je permanentnì ulo¾ena na serveru a není potøeba ji inicializovat. Databázi jsme konfigurovali a inicializovali pomocí souboru
databaseFix.sql v adres85i database. Pomocí souboru delete.sql se databáze sma¾e. Databá¾e be¾í pomocí slu¾by aiven.io. Pokud se chcete k databázi pøihlásit napøíklad
pomocí nástroje datagrip, mù¾ete k tomu vyu¾ít tyto pøihla¹ovací údaje.
<img src="database.png" alt="database authentication details">
<ul>
<li>postup instalace na server,</li>
<li>softwarové po¾adavky (verze PHP apod.),</li>
<li>jak rozbalit, konfigurovat, inicializovat databázi, ...</li>
</ul>

<h2>Známé problémy</h2>
<p>Zde popi¹te, které body zadání nejsou implementovány a z jakého dùvodu. Napø. &bdquo;Z èasových dùvodù nebyla implementována správa u¾ivatelù.&rdquo; Pomù¾ete tím zrychlit hodnocení, kdy¾ neimplementované funkce nebudeme muset dlouze hledat.</p>

</body>
</html>
